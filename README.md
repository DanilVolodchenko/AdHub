# Сервис для размещения объявлени "AdHub"

---

## Предыстория

Впервые использую FastApi, SQLAlchemy, pydantic и alembic. Было
непросто за пару дней разобраться в этом.

## Описание

Проект создан для размещения объявлений различных видов:
покупка, продажа или оказание услуг.

---

## Стек технологий

- FastApi
- SQLAlchemy
- alembic
- python3.10
- postgresql@13

---

## Запуск проекта

В качестве примера, будет показан запуск проекта на операционной
системе `macOs`.

### Клонирование репозитория

Клонируем репозиторий:

`git clone git@github.com:DanilVolodchenko/AdHub.git`

### Создание виртуального окружения

Виртуальное окружение создается командой:
`python3.10 -m venv env`

Активируем его: `. env/bin/activate`

### Установка зависимостей

Все зависимости находятся в файле `requirements.txt`, для
их установки прописываем команду: `pip install -r requirements.txt`

### База данных

Проект работает на базе данных PostgreSQL@13. Устанавливаем
его `brew install postgresql@13`, затем поднимает базу 
`brew services start postgresql@13`, скачиваем pdAdmin для
работы с базой данных `brew install pgadmin4`. Заходим в 
pgAdmin и создаем потключение серверу, как это сделать можно
посмотреть [тут](https://fkn.ktu10.com/?q=node/9446)

Создаем таблицы в БД: `alembic upgrade head`

### Переменные окружения

В корне проекта AdHub нужно создать файл .env, в нем будут
находиться наши переменные. Чтобы увидеть переменные, которые
должны быть в файле .env, то нужно открыть файл .env.example:
```
DB_HOST=localhost
DB_PORT=Порт базы
DB_NAME=Имя базы
DB_USER=Имя юзера
DB_PASSWORD=Пароль базы

JWT_SECRET=Ключ для шифрования 
ALGORITHM=Алгоритм шифрования
ACCESS_TOKEN_EXPIRE_MINUTES=Количество минут существования 
токена
```

### Запуск проекта

В корне проекта набираем команду `unicorn main:app --reload`